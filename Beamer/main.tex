%===============================================================
%Template for UPC-TALP based on CTU and modified to match UPC-TALP colors and style  
%The original template from Czech Technical University  % Author: Martin Malý.
% They are defined by new graphical manual - 2017.
% Share and modify as you like. Keep the name of the authors.
% It is forbidden to use the template commercially.
%===============================================================

\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage{comment}
\usetheme{Madrid}
  \usepackage[maxbibnames=99]{biblatex}
\definecolor{cvut_navy}{HTML}{0065BD}
\definecolor{cvut_blue}{HTML}{6AADE4}
\definecolor{cvut_gray}{HTML}{156570}
\usepackage{biblatex}
\usepackage[makeroom]{cancel}
\usepackage{threeparttable}
\addbibresource{biblatex-examples.bib}
\setbeamercolor{section in toc}{}
\setbeamercolor{section in toc}{fg=black,bg=yellow} 
\setbeamercolor{alerted text}{fg=cvut_blue}
\usepackage{tikzsymbols}
\usepackage{textcomp}
\usepackage{parskip}
\definecolor{darkblue}{rgb}{0, 0, 0.5} 
\definecolor{babyblue}{rgb}{0.54, 0.81, 0.94}
\usepackage{pgf}
\usepackage{color,soul}
\usepackage{pythontex} 
\usepackage{tcolorbox}
\tcbuselibrary{skins}
\usepackage{minted}
\usepackage{xcolor,soul}
\definecolor{lightblue}{rgb}{.90,.95,1}
\sethlcolor{lightblue}
\renewcommand<>{\hl}[1]{\only#2{\beameroriginal{\hl}}{#1}}
\setbeamertemplate{page number in head/foot}[framenumber]
%%% attravive box over equestion
\usepackage{empheq}
\usepackage{xcolor}
\definecolor{lightgreen}{HTML}{90EE90}
\newcommand{\boxedeq}[2]{\begin{empheq}[box={\fboxsep=6pt\fbox}]{align}\label{#1}#2\end{empheq}}
\newcommand{\coloredeq}[2]{\begin{empheq}[box=\colorbox{lightgreen}]{align}\label{#1}#2\end{empheq}}
\newcommand{\highlight}[1]{%
  \colorbox{red!40}{$\displaystyle#1$}}
  
  
  
  
  
\useoutertheme{infolines}



\usepackage{courier}
%\usepackage{animate}  
\usepackage{expl3}
\usepackage[listings,theorems]{tcolorbox}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
%commands for simulating terminal in/output  
%\scroll[<line separator string>]{<width as TeX dim>} 
%                             {<number of lines>}{terminal text line}  
%\clearbuf  %clears line buffer  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
\ExplSyntaxOn
\seq_new:N\g_linebuffer_seq
\seq_new:N\g_inputline_seq



\newcommand\scroll[4][§§]{
  \seq_set_split:Nnn\g_inputline_seq{#1}{#4}
  \seq_map_inline:Nn\g_inputline_seq{
    \seq_gput_right:Nx\g_linebuffer_seq{##1}
    \int_compare:nT{\seq_count:N\g_linebuffer_seq>#3}{
      \seq_gpop_left:NN\g_linebuffer_seq\dummy
    }
  }
  \fbox{\begin{minipage}[t][#3\baselineskip]{#2}
    \ttfamily
    \seq_map_inline:Nn\g_linebuffer_seq{\mbox{##1}\\}
  \end{minipage}}
}
\newcommand\clearbuf{\seq_gclear:N\g_linebuffer_seq}
\ExplSyntaxOff

\setbeamertemplate{headline}{%
\begin{beamercolorbox}[colsep=1.5pt]{upper separation line head}
\end{beamercolorbox}
\begin{beamercolorbox}{section in head/foot}
    \vskip2pt\insertsectionnavigationhorizontal{\paperwidth}{}{\hskip0pt plus1filll}\vskip2pt
\end{beamercolorbox}%
%\begin{beamercolorbox}[ht=10pt]{subsection in head/foot}%
%    \vskip2pt\insertsubsectionnavigationhorizontal{\paperwidth}{}{\hskip0pt plus1filll}\vskip2pt
%\end{beamercolorbox}%
\begin{beamercolorbox}[colsep=1.5pt]{lower separation line head}
\end{beamercolorbox}
}
\makeatletter
\newcommand\SoulColor{%
  \let\set@color\beamerorig@set@color
  \let\reset@color\beamerorig@reset@color}
\makeatother
\SoulColor
\usepackage{amsmath, bm}
\usepackage{tikz}
\setbeamercovered{dynamic}

\newcommand{\highlightt}[1]{%
  \colorbox{blue!40}{$\displaystyle#1$}}


\newenvironment<>{problock}[1]{%
  \begin{actionenv}#2%
      \def\insertblocktitle{#1}%
      \par%
      \mode<presentation>{%
       % \setbeamercolor{block title}{fg=white,bg=orange!20!black}
        %\setbeamercolor{block title}{fg=white,bg=red!10!black}
        \setbeamercolor{block title}{fg=white,bg=cvut_blue}
       \setbeamercolor{block body}{fg=black,bg=white!50}
       \setbeamercolor{itemize item}{fg=orange!20!black}
       \setbeamertemplate{itemize item}[triangle]
     }%
      \usebeamertemplate{block begin}
    \par\usebeamertemplate{block end}
    \end{actionenv}
    }
    
    \newcommand<>{\uncovergraphics}[2][{}]{
    % Taken from: <https://tex.stackexchange.com/a/354033/95423>
    \begin{tikzpicture}
    \node[anchor=south west,inner sep=0] (B) at (4,0)
        {\includegraphics[#1]{#2}};
    \alt#3{}{%
        \fill [draw=none, fill=background, fill opacity=0.9] (B.north west) -- (B.north east) -- (B.south east) -- (B.south west) -- (B.north west) -- cycle;
    }
    \end{tikzpicture}
}




\newcommand{\FourQuads}[4]{
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{block}{\small Dataset and Task}
            %\begin{tcolorbox}[enhanced,drop shadow, title=Example with tcolorbox]
            %\begin{tcolorbox}[enhanced,colframe=white,colback=white, fuzzy halo = 1mm with gray] 
            %\begin{tcolorbox}[colback=yellow!20,colframe=yellow,title=Dataset and Task]
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #1
                \end{minipage}
               % \end{tcolorbox}
            \end{block}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{block}{\small Word-level based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #2
                \end{minipage}
            \end{block}
        \end{column}        
    \end{columns}
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{block}{\small Sentence based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #3
                \end{minipage}
            \end{block}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{block}{\small More Task - Caption generation }
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #4
                \end{minipage}
            \end{block}
        \end{column}        
    \end{columns}   
}    

\newlength{\overwritelength}
\newlength{\minimumoverwritelength}
\setlength{\minimumoverwritelength}{1cm}
\newcommand{\overwrite}[3][red]{%
  \settowidth{\overwritelength}{$#2$}%
  \ifdim\overwritelength<\minimumoverwritelength%
    \setlength{\overwritelength}{\minimumoverwritelength}\fi%
  \stackrel
    {%
      \begin{minipage}{\overwritelength}%
        \color{#1}\centering\small #3\\%
        \rule{1pt}{9pt}%
      \end{minipage}}
    {\colorbox{#1!50}{\color{black}$\displaystyle#2$}}}


\newlength{\overwritelength}
\newlength{\minimumoverwritelength}
\setlength{\minimumoverwritelength}{1cm}
\newcommand{\overwritee}[3][blue]{%
  \settowidth{\overwritelength}{$#2$}%
  \ifdim\overwritelength<\minimumoverwritelength%
    \setlength{\overwritelength}{\minimumoverwritelength}\fi%
  \stackrel
    {%
      \begin{minipage}{\overwritelength}%
        \color{#1}\centering\small #3\\%
        \rule{1pt}{9pt}%
      \end{minipage}}
    {\colorbox{#1!50}{\color{black}$\displaystyle#2$}}}



\newlength{\overwritelength}
\newlength{\minimumoverwritelength}
\setlength{\minimumoverwritelength}{1cm}
\newcommand{\overwriteee}[3][gray]{%
  \settowidth{\overwritelength}{$#2$}%
  \ifdim\overwritelength<\minimumoverwritelength%
    \setlength{\overwritelength}{\minimumoverwritelength}\fi%
  \stackrel
    {%
      \begin{minipage}{\overwritelength}%
        \color{#1}\centering\small #3\\%
        \rule{1pt}{9pt}%
      \end{minipage}}
    {\colorbox{#1!50}{\color{black}$\displaystyle#2$}}}



%%%%%%%%%%%%%%%% selected Dataset and Task 

\newcommand{\FourQuadss}[4]{
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Dataset and Task}
            %\begin{tcolorbox}[enhanced,drop shadow, title=Example with tcolorbox]
            %\begin{tcolorbox}[enhanced,colframe=white,colback=white, fuzzy halo = 1mm with gray] 
            %\begin{tcolorbox}[colback=yellow!20,colframe=yellow,title=Dataset and Task]
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #1
                \end{minipage}
               % \end{tcolorbox}
            \end{alertblock}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{block}{\small Word-level based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #2
                \end{minipage}
            \end{block}
        \end{column}        
    \end{columns}
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{block}{\small Sentence based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #3
                \end{minipage}
            \end{block}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{block}{\small More Task - Caption generation}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #4
                \end{minipage}
            \end{block}
        \end{column}        
    \end{columns}   
}    



\newcommand{\FourQuadsss}[4]{
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Dataset and Task}
            %\begin{tcolorbox}[enhanced,drop shadow, title=Example with tcolorbox]
            %\begin{tcolorbox}[enhanced,colframe=white,colback=white, fuzzy halo = 1mm with gray] 
            %\begin{tcolorbox}[colback=yellow!20,colframe=yellow,title=Dataset and Task]
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #1
                \end{minipage}
               % \end{tcolorbox}
            \end{alertblock}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Word-level based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #2
                \end{minipage}
            \end{alertblock}
        \end{column}        
    \end{columns}
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{block}{\small Sentence based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #3
                \end{minipage}
            \end{block}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{block}{\small More Task - Caption generation}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #4
                \end{minipage}
            \end{block}
        \end{column}        
    \end{columns}   
}    


\newcommand{\FourQuadssss}[4]{
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Dataset and Task}
            %\begin{tcolorbox}[enhanced,drop shadow, title=Example with tcolorbox]
            %\begin{tcolorbox}[enhanced,colframe=white,colback=white, fuzzy halo = 1mm with gray] 
            %\begin{tcolorbox}[colback=yellow!20,colframe=yellow,title=Dataset and Task]
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #1
                \end{minipage}
               % \end{tcolorbox}
            \end{alertblock}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Word-level based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #2
                \end{minipage}
            \end{alertblock}
        \end{column}        
    \end{columns}
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Sentence based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #3
                \end{minipage}
            \end{alertblock}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{block}{\small More Task - Caption generation}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #4
                \end{minipage}
            \end{block}
        \end{column}        
    \end{columns}   
}    


\newcommand{\FourQuadsssss}[4]{
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Dataset and Task}
            %\begin{tcolorbox}[enhanced,drop shadow, title=Example with tcolorbox]
            %\begin{tcolorbox}[enhanced,colframe=white,colback=white, fuzzy halo = 1mm with gray] 
            %\begin{tcolorbox}[colback=yellow!20,colframe=yellow,title=Dataset and Task]
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #1
                \end{minipage}
               % \end{tcolorbox}
            \end{alertblock}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Word-level based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #2
                \end{minipage}
            \end{alertblock}
        \end{column}        
    \end{columns}
    \begin{columns}[onlytextwidth]
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small Sentence based Visual Re-ranker}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #3
                \end{minipage}
            \end{alertblock}
        \end{column}
        \begin{column}{.45\textwidth}
            \begin{alertblock}{\small More Task - Caption generation}
                \begin{minipage}[t][.25\textheight][t]{\textwidth}
                    #4
                \end{minipage}
            \end{alertblock}
        \end{column}        
    \end{columns}   
}    



%\addbibresource{biblatex-examples.bib}
    
%\setbeamercolor{block body}{fg=black, bg=green!20!white}
%\setbeamercolor{block title}{fg=black, bg=green!60!black}

%\BeforeBeginEnvironment{definition}{%
%    \setbeamercolor{block title}{fg=black, bg=green!20!white}
% %   \setbeamercolor{block body}{fg=black, bg=green!60!black}
%}
%\AfterEndEnvironment{definition}{
% \setbeamercolor{block title}{use=structure,fg=structure.fg,bg=structure.fg!20!bg}
% \setbeamercolor{block body}{parent=normal text,use=block title,bg=block title.bg!50!bg, fg=black}
%}

\newlength\dlf
\newcommand\alignedbox[3][yellow]{
  % #1 = color (optional, defaults to yellow)
  % #2 = before alignment
  % #3 = after alignment
  &
  \begingroup
  \settowidth\dlf{$\displaystyle #2$}
  \addtolength\dlf{\fboxsep+\fboxrule}
  \hspace{-\dlf}
  \fcolorbox{red}{#1}{$\displaystyle #2 #3$}
  \endgroup
}

\usepackage{collcell}
\usepackage{booktabs}
\usepackage{etoolbox}
\usepackage{remreset}% tiny package containing just the \@removefromreset command
\makeatletter

\usepackage{xcoffins}
\NewCoffin\tablecoffin
\NewDocumentCommand\Vcentre{m}
  {%
    \SetHorizontalCoffin\tablecoffin{#1}%
    \TypesetCoffin\tablecoffin[l,vc]%
  }

\@removefromreset{subsection}{section}
\makeatother
\setcounter{subsection}{1}
\useoutertheme
%\usesectionheadtemplate{\insertsectionhead\hfill}{\color{fg!50!bg}\insertsectionhead\hfill}
%\useoutertheme{split}

\hyphenation{op-tical net-works semi-conduc-tor}
\usepackage{graphicx} 
\usepackage{tikz}

\usepackage{pgfpages}

%% Important 
%%% show note or disable note. 
%\setbeameroption{show notes on second screen=right} % Both

\setbeamertemplate{note page}{\pagecolor{gray!5}\insertnote}\usepackage{palatino}

%%%%%%%%%%%%%%%%%%%%%%%%% code for fading text with gradient coloring table/figure 0 %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{graphicx}
\usetikzlibrary{fadings}
\newcommand\fadingtext[3][]{%
  \begin{tikzfadingfrompicture}[name=fading letter]
    \node[text=transparent!0,inner xsep=0pt,outer xsep=0pt,#1] {#3};
  \end{tikzfadingfrompicture}%
  \begin{tikzpicture}[baseline=(textnode.base)]
    \node[inner sep=1pt,outer sep=1pt,#1](textnode){\phantom{#3}}; 
    \shade[path fading=fading letter,#2,fit fading=false]
    (textnode.south west) rectangle (textnode.north east);% 
  \end{tikzpicture}% 
}
\newcommand*{\TakeFourierOrnament}[1]{{%
\fontencoding{U}\fontfamily{futs}\selectfont\char#1}}
\newcommand*{\danger}{\TakeFourierOrnament{66}}

%\setbeamertemplate{footline}{}
%\setbeamertemplate{footline}{}
\usepackage{xcolor}
\usepackage{soul}

\usepackage{etoolbox}
\makeatletter
%\patchcmd{\slideentry}{\ifnum#2>0}{\ifnum2>0}{}{\@error{unable to patch}}% replace the subsection number test with a test that always returns true
\makeatother
%\DeclareRobustCommand{\hlcyan}[1]{{\sethlcolor{blue}\hl{#1}}}
%\useoutertheme{miniframes}
%\AtBeginSection[]{\subsection{}}
%\definecolor{babyblue}{rgb}{0.54, 0.81, 0.94}
%\usepackage{MnSymbol,wasysym}
% Change 
%\setbeamercolor{alerted text}{fg=cvut_navy}
% color the header UPC colors 
\setbeamercolor*{palette primary}{bg=cvut_navy,fg=gray!20!white}
\setbeamercolor*{palette secondary}{bg=cvut_navy,fg=gray!20!white} % no color
%\setbeamercolor*{palette secondary}{bg=cvut_navy,fg=cvut_navy}
%\setbeamercolor*{palette secondary}{bg=cvut_blue,fg=white}
\setbeamercolor*{palette tertiary}{parent=palette primary} % color of the top and date
\setbeamercolor*{palette quaternary}{fg=cvut_navy,bg=gray!5!white}
\setbeamercolor*{sidebar}{fg=cvut_navy,bg=gray!15!white}
\usepackage[first=0,last=9]{lcg}
\newcommand{\ra}{\rand0.\arabic{rand}}
\usepackage{color, colortbl}
\usepackage{stackengine,tikz}
\usepackage{transparent}
\usepackage{pgfpages}
\usepackage{graphicx}% http://ctan.org/pkg/graphicx
\usepackage{booktabs}% http://ctan.org/pkg/booktabs
%\setbeameroption{show notes}
\colorlet{Gray}{gray!30}
\newcommand{\bert}{\ensuremath{%
  \mathchoice{\includegraphics[height=2ex]{Bert-pic-removebg-preview.png}}
    {\includegraphics[height=2ex]{Bert-pic-removebg-preview.png}}
    {\includegraphics[height=1.5ex]{Bert-pic-removebg-preview.png}}
    {\includegraphics[height=1ex]{Bert-pic-removebg-preview.png}}
}}


%\colorlet{Gray}{gray!30}
\newcommand{\trad}{\ensuremath{%
  \mathchoice{\includegraphics[height=2ex]{trad_off_acc.pdf}}
    {\includegraphics[height=2ex]{trad_off_acc.pdf}}
    %{\includegraphics[height=1.5ex]{trad-off.pdf}}
    {\includegraphics[height=1.5ex]{trad_off_acc.pdf}}
    {\includegraphics[height=1ex]{trad_off_acc.pdf}}
}}


\newcommand{\tradd}{\ensuremath{%
  \mathchoice{\includegraphics[height=2ex]{trad_simple.pdf}}
    {\includegraphics[height=2ex]{trad_simple.pdf}}
    %{\includegraphics[height=1.5ex]{trad-off.pdf}}
    {\includegraphics[height=1.5ex]{trad_simple.pdf}}
    {\includegraphics[height=1ex]{trad_simple.pdf}}
}}



\newcommand{\tradda}{\ensuremath{%
  \mathchoice{\includegraphics[height=2ex]{dataset-trad.pdf}}
    {\includegraphics[height=2ex]{dataset-trad.pdf}}
    %{\includegraphics[height=1.5ex]{trad-off.pdf}}
    {\includegraphics[height=1.5ex]{dataset-trad.pdf}}
    {\includegraphics[height=1ex]{dataset-trad.pdf}}
}}

\newcommand{\tradall}{\ensuremath{%
  \mathchoice{\includegraphics[height=2ex]{ALL-trad.pdf}}
    {\includegraphics[height=2ex]{ALL-trad.pdf}}
    %{\includegraphics[height=1.5ex]{trad-off.pdf}}
    {\includegraphics[height=1.5ex]{ALL-trad.pdf}}
    {\includegraphics[height=1ex]{ALL-trad.pdf}}
}}


\newcommand{\tradf}{\ensuremath{%
  \mathchoice{\includegraphics[height=2ex]{fast-accur.pdf}}
    {\includegraphics[height=2ex]{fast-accur.pdf}}
    %{\includegraphics[height=1.5ex]{trad-off.pdf}}
    {\includegraphics[height=1.5ex]{fast-accur.pdf}}
    {\includegraphics[height=1ex]{fast-accur.pdf}}
}}

\newcommand{\tradsf}{\ensuremath{%
  \mathchoice{\includegraphics[height=2ex]{fast-simple.pdf}}
    {\includegraphics[height=2ex]{fast-simple.pdf}}
    %{\includegraphics[height=1.5ex]{trad-off.pdf}}
    {\includegraphics[height=1.5ex]{fast-simple.pdf}}
    {\includegraphics[height=1ex]{fast-simple.pdf}}
}}

\newcommand{\theauthor}[1]{%
\includegraphics[width=0.5\textwidth]{#1}\\#1
}%




%\definecolor{studentbrown}{RGB}{124,71,50}
%\definecolor{studentbrown}{RGB}{124,71,50}

%\definecolor{studentbrown}{rgb}{0.87, 0.19, 0.39} % pink block

%\definecolor{studentbrown}{rgb}{0.82, 0.1, 0.26}


\newcommand*{\MinNumber}{0}%
%\newcommand*{\MaxNumber}{100}%
\newcommand*{\MaxNumber}{0.4}%
\definecolor{bubblegum}{rgb}{0.99, 0.76, 0.8}
\newcommand{\ApplyGradient}[1]{%
  \pgfmathsetmacro{\PercentColor}{100.0*(#1-\MinNumber)/(\MaxNumber-\MinNumber)}%
  %\textcolor{black!\PercentColor}{#1}
  \edef\x{\noexpand\cellcolor{babyblue!\PercentColor}}\x\textcolor{black}{#1}%
}
\newcolumntype{R}{>{\collectcell\ApplyGradient}{c}<{\endcollectcell}}

%\setbeameroption{show notes on second screen=right}
\setbeamercolor{titlelike}{parent=palette primary}
\setbeamercolor{frametitle}{parent=palette primary}

\setbeamercolor{B}{bg=red!30,fg=black}

 %\setbeamertemplate{itemize item}{\color{cvut_bbredlue}$\blacksquare$}
%\setbeamertemplate{itemize item}{\color{cvut_blue}$circle$}
%\setbeamercolor{item projected}{bg=magenta!70!black,fg=white}
 %\setbeamertemplate{itemize item}[circle]

\setbeamertemplate{section in toc}[default]
\setbeamercolor{itemize item }{fg=blue}
\setbeamertemplate{itemize item}[circle]

\setbeamercolor*{separation line}{}
\setbeamercolor*{fine separation line}{}

\setbeamertemplate{navigation symbols}{} 
\setbeamertemplate{caption}{\raggedright\insertcaption\par}

%\setbeamercolor*{block title example}{fg=blue!50,bg= blue!10}

%\setbeamercolor*{block title example}{fg=white,bg= cvut_navy}
\setbeamercolor*{block title example}{fg=white,bg=purple!75!black}
\setbeamercolor*{block body example}{fg= black, bg= white}

%fg=black,bg=purple!75!black
%\setbeamercolor*{block body example}{fg= blue, bg= blue!5}
%\setbeamercolor*{block body example}{fg= white, bg= cvut_blue}
%diffrent color 
%bg=magenta!70!black,fg=white

\setbeamercolor{itemize item}{fg=cvut_navy} % all frames will have red bullets
\setbeamercolor{block title}{bg=red!30,fg=black}
\setbeamertemplate{subsection in toc}[subsections numbered]

\usepackage{eqnarray,amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{qrcode}
\usepackage{graphicx}
\usepackage{lmodern} % pro pismo tucne a zaroven kurziva
\usepackage{bm} % pro pismo tucne a zaroven kurziva
\usepackage{epstopdf}
\usepackage{changepage}
%\setbeamercolor{structure}{fg=darkred}

%\setbeamercolor{block title}{fg=darkred,bg=structure.fg!10!bg!10!bg}
%\setbeamercolor{block body}{use=block title,bg=block title.bg}
\definecolor{NormalBlue}{RGB}{200,200,255}
%\setbeamercolor{block title}{bg=NormalBlue}yellow
\setbeamercolor{block title}{fg=black, bg=yellow}
\setbeamercolor{block2}{use=structure,fg=white,bg=purple!75!black}
% definice makra
\def\bq{\mbox{\kern.1ex\protect\raisebox{-1.3ex}[0pt][0pt]{''}\kern-.1ex}}
\def\eq{\mbox{\kern-.1ex``\kern.1ex}}
\def\ifundefined#1{\expandafter\ifx\csname#1\endcsname\relax }%
\ifundefined{uv}%
        \gdef\uv#1{\bq #1\eq}
\fi


%====================================================
%========== DEFINITION OF AUTHORS ETC...=============
%====================================================
\author[PhD Thesis Defense]{ Your Name}
\institute[]{Department of Computer Science \\ TALP Group 
\vspace{2mm} \\ 
Advisors:  \\ Prof. John \\
Dr. Rosa\\ 
\vspace{2mm}}
\title[XX ]{your title}


  \date[Feb 10, 2021]{PhD Thesis Defense \\ \small{Feb 10, 2021}}
%====================================================
%========== BEGINNING OF DOCUMENT ===================
%====================================================


\begin{document}



\begin{frame}[plain]
%\transboxin

	\titlepage
	\begin{center}%
	%\vspace{-2mm}
	%\tableofcontents{current}
  		\includegraphics[height=1cm]{darkblue-logo.pdf}
  		%\includegraphics[height=1cm]{darkblue-talp-logo.pdf}
  		%\includegraphics[height=1.5cm]{upclogo.pdf}
		%\includegraphics[height=1.1cm]{files/IRIS.png}
		%\includegraphics[height=1.3cm]{files/logo_iri2.png}https://www.overleaf.com/project/5bed4779c7eea31291e7e8b2#Navigation27
	%\includegraphics[height=1.3cm]{files/IBT.png}
		%\includegraphics[height=1.3cm]{files/biocev-logo-CMYK-horizontal.pdf}
	\end{center}
\note[item]{you  note here}
\end{frame}


%\logo{\includegraphics[height=1cm]{files/TALP.png}}
%\logo{\includegraphics[height=0.6cm]{darkblue-logo.pdf}}
%\logo{\includegraphics[height=0.5cm]{darkblue-logo.pdf}}

%% outline index   
 % \begin{frame} 
 % \frametitle{Outline}
 % \tableofcontents[currentsection]
 % \end{frame}
%}


\begin{frame}[plain]{Table of Contents} 
     \tableofcontents[currentsection]
\end{frame}


\begin{frame}[plain]{Table of Contents}
\tableofcontents[]
\note[item]{note here }
\end{frame}



%\section{Introduction}


\section{Problem Identification}

\begin{frame}

	\frametitle{Highlight with a block}	
	
%\begin{block}{Text Recognition}
\begin{block}{\samll}<0>

\begin{itemize}
\item [A] Fixed lexicon [\textcolor{darkblue}{some text }].
%\item Lexicon free [\textcolor{darkblue}{shi et al. 2016, Ghosh et al. 2017, Gao et al. 2017, Fang et al. 2018, Xing et al., 2019, Hu et al. 2020}].
	%\item \textbf{Text}
    %\item \textcolor{cvut_navy}{Text} 
    %\item \textcolor{cvut_navy}{\textbf{Text}} 
\end{itemize}

\end{block}

\begin{block}{\samll}<0>

\begin{itemize}
%\item Fixed lexicon [\textcolor{darkblue}{Wang et al.  2012, Jaderberg et al. 2016}].
\item [B]  Lexicon free [\textcolor{darkblue}{some text }].
	%\item \textbf{Text}
    %\item \textcolor{cvut_navy}{Text} 
    %\item \textcolor{cvut_navy}{\textbf{Text}} 
\end{itemize}

\end{block}
%\includegraphics[width=0.8\textwidth]{intro.pdf}
%\includegraphics[width=0.7\textwidth \textcolor{white}{right}]{accv-overview-2.pdf}
\uncover<1>{
}
\vspace{-0.1cm}
%\tiny Cnnectionist Temporal Classification CTC [\textcolor{darkblue}{Graves et al. 2006}]


\end{frame}


\begin{frame}

	\frametitle{Highlight with a block}	
	
%\begin{block}{Text Recognition}
\begin{block}{\samll}

\begin{itemize}
\item [A] Fixed lexicon [\textcolor{darkblue}{some text}].
%\item Lexicon free [\textcolor{darkblue}{shi et al. 2016, Ghosh et al. 2017, Gao et al. 2017, Fang et al. 2018, Xing et al., 2019, Hu et al. 2020}].
	%\item \textbf{Text}
    %\item \textcolor{cvut_navy}{Text} 
    %\item \textcolor{cvut_navy}{\textbf{Text}} 
\end{itemize}

\end{block}

\begin{block}{\samll}<0>

\begin{itemize}
%\item Fixed lexicon [\textcolor{darkblue}{Wang et al.  2012, Jaderberg et al. 2016}].
\item [B] Lexicon free [\textcolor{darkblue}{some text}].
	%\item \textbf{Text}
    %\item \textcolor{cvut_navy}{Text} 
    %\item \textcolor{cvut_navy}{\textbf{Text}} 
\end{itemize}

\end{block}
%\includegraphics[width=0.8\textwidth]{intro.pdf}
%\includegraphics[width=0.7\textwidth \textcolor{white}{right}]{accv-overview-2.pdf}

\vspace{0.1cm}


\end{frame}


 \begin{frame}[noframenumbering]{Add Block in order A  ...}
  \begin{alertblock}{\small}

\begin{itemize}
    \item [A] \textbf{Lack of public dataset:} Most state-of-art deep ...... 
%\item \textbf{Fast and easy to re-train:} Statistical Language Modelling (LM) can be trained on specific domain.    
%\item The system can be used as a \textbf{drop-in replacement} for any text-spotting algorithm that ranks the output words.
%\item This \textbf{hybrid approach} between deep learning and classical statistical modelling opens the possibility to produce accurate results with very simple models. 
\end{itemize}
\end{alertblock}
\visible<2->{
\begin{alertblock}{\small}
\begin{itemize}
 %   \item \textbf{Lack of public dataset:} Most state-of-art deep models trained on synthetic dataset. 
\item [B] \textbf{Fast and easy to re-train:} Statistical Language  ....   
%\item The system can be used as a \textbf{drop-in replacement} for any text-spotting algorithm that ranks the output words.
%\item This \textbf{hybrid approach} between deep learning and classical statistical modelling opens the possibility to produce accurate results with very simple models. 
\end{itemize}
\end{alertblock}
}
\visible<3->{
\begin{alertblock}{\small}
\begin{itemize}
  %  \item \textbf{Lack of public dataset:} Most state-of-art deep models trained on synthetic dataset. 
%\item \textbf{Fast and easy to re-train:} Statistical Language Modelling (LM) can be trained on specific domain.    
\item [C] The system can be used as a  ..... 
%\item This \textbf{hybrid approach} between deep learning and classical statistical modelling opens the possibility to produce accurate results with very simple models. 
\end{itemize}
\end{alertblock}
}

\visible<4->{
\begin{alertblock}{\small}
\begin{itemize}
  %  \item \textbf{Lack of public dataset:} Most state-of-art deep models trained on synthetic dataset. 
%\item \textbf{Fast and easy to re-train:} Statistical Language Modelling (LM) can be trained on specific domain.    
%\item The system can be used as a \textbf{drop-in replacement} for any text-spotting algorithm that ranks the output words.
\item [D] This \textbf{hybrid approach} between deep learning  ..... 
\end{itemize}
\end{alertblock}
}





\note[item]{\textbf{Block adding ...} \\ as I mentioned before  \\ 

\textcolor{blue}{(A-)}  all STOA models are trained on ....  \\ 

\textcolor{blue}{(B-)} \textbf{Second}, Fast and easy t...  \\

\\


\textcolor{blue}{(C-)} \textbf{Also}, the model can be used as a \textbf{drop-in replacement} for any text-spotting algorithm that ranks the output words. \\
\\ 

And \\
\\ 
\textcolor{blue}{(D-)} \textbf{finally} combining deep learning with a classical model can achieve a better result with low cost model (even training on CPU).I'm not generalizing here just in this case}
\end{frame}






\note[item]{\textbf{Why post-processing?} \\ as I mentioned before  \\ 

\textcolor{blue}{(A-)}  all STOA models are trained on this one synthetic dataset. \\ 

\textcolor{blue}{(B-)} \textbf{Second}, Fast and easy to re-train and can be adopted to any specific domain. \\

\\


\textcolor{blue}{(C-)} \textbf{Also}, the model can be used as a \textbf{drop-in replacement} for any text-spotting algorithm that ranks the output words. \\
\\ 

And \\
\\ 
\textcolor{blue}{(D-)} \textbf{finally} combining deep learning with a classical model can achieve a better result with low cost model (even training on CPU).I'm not generalizing here just in this case}
\end{frame}





\begin{frame}{Literature review block}
\frametitle{Literature review block}
%\begin{center}
Work addresses scene understanding, and benefit from combining text cue and visual context in image or text retrieval:  


\\~~\\


\vspace{-1cm} 

\begin{minipage}{4cm}
\begin{alertblock}{\small Lexicon Generation}
 \textcolor{darkblue}{Patel et al. (2016)}
\end{alertblock}
\end{minipage}
\space \space \space generation of new lexicon with \textbf{topic modeling}  




\begin{minipage}{4cm}
\begin{block}{\small Logo Retrieval}
 \textcolor{darkblue}{Karaoglu et al. (2017)}
\end{block}
\end{minipage}
    \space \space \space learn \textbf{textual information} from logos   \\ 


\begin{minipage}{4cm}
\begin{alertblock}{\small Text detection}
 \textcolor{darkblue}{Prasad et al. (2018)}
\end{alertblock}
\end{minipage} \space \space \space using object information for text detection




%\end{center} 
 \note[item]{show this slide 2 seconds }        
\end{frame}



\begin{frame}[noframenumbering]{Literature review block }
%\section{literature Review}
\setbeamercovered{transparent} 
%\begin{center}
%Work addresses scene understanding, text cue or visual context in text spotting:  
%Work addresses scene understanding, and benefit from combining text cue and visual context in \textcolor{red}{text} retrieval: 
Work addresses scene understanding, and benefit from combining text cue and visual context in image or text retrieval:  


\\~~\\


\vspace{-1cm} 
\begin{minipage}{4cm}
\begin{alertblock}{\small Lexicon Generation}
 \textcolor{darkblue}{Patel et al. (2016)} 
\end{alertblock}
\end{minipage}
\space \space \space generation of new lexicon with \textbf{topic modeling}  


\begin{minipage}{4cm}
\begin{block}{\small Logo Retrieval}<0>
 \textcolor{darkblue}{Karaoglu et al. (2017)}
\end{block}
\end{minipage}
    \space \space \space \texttransparent{0.1}{learn \textbf{textual information} from logos}   \\ 


 
\begin{minipage}{4cm}
\begin{alertblock}{\small Text detection}<0>
 \textcolor{darkblue}{Prasad et al. (2018)}
\end{alertblock}
\end{minipage} \space \space \space  \texttransparent{0.1}{using object information for text detection}

 
\note[item]{I will start with \textbf{topic modeling and lexicon generations} }  
 
 \end{frame}


\begin{frame}[noframenumbering]
	\frametitle{Image}	
\begin{itemize}

\item The task involves detecting the viewer’s interpretation of an Ad image captured as text.
\item Fine-tune BERT  is used to learn textual and visual cues. 
%\item Specific domain dataset is used:  Ads Dataset
\item Google Vision API is used to extract scene text information.
\end{itemize}

\begin{figure}
\begin{center}
   
%%%\vspace{10pt}
%\vspace{-0.3cm}
\vspace{0.2cm}   
\includegraphics[width=0.6\textwidth]{BERT-2020.pdf}

    
    \label{ActionButton}
  \end{center}
\end{figure}
\note[item]{}   
\end{frame}



\begin{frame}
	\frametitle{Table}	
\begin{itemize}
%\item Unigram Language Model (ULM)

\item The ULM is based on a combined corpu .... 

%\item The advantage of ULM is very simple to build, train and \textcolor{red}{adapt to new domains} opening the possibility to improve baseline performance for specific applications. 
 

\end{itemize}
\begin{block}{}
\begin{table}
\centering
%\caption{Total count of unique words - Dictionary.} 
\resizebox{\columnwidth}{!}{
\begin{tabular}{|l|c|c|c|c|}

%\begin{tabularx}{\columnwidth}{|lcccc|}
\hline 
 
\multicolumn{5}{|c|}{Unique Count of Textual Data}\\ 
\hline 
\rowcolor{Gray}
 %INPUT &  \cellcolor{applegreen}{token} & \cellcolor{red}{$\leq$ PAD $\geq$} & \cellcolor{amber}{300D}  \\
 Dictionary & words  & nouns & verb & adjectives                        \\
 \hline 
 %\rowcolor{Gray}
%\multicolumn{5}{|c|}{Dictionary} \\ 
% \hline 
Dict-90K words level       &   87,629     &   20,146     &  6,956    & 15,534        \\   %\hdashline
Language model     & 8870,209 & 2695,906 & 139,385 &  824,581  \\  %\hdashline 
  \hline 


\end{tabular}
}
%\end{tabularx}
%\label{se:Dic}
\end{table}
\end{block}
\note[item]{.}
\end{frame}

\begin{frame}[noframenumbering]{Fade out  text}
%\begin{itemize}
   % \item In this thesis, \hl{ we have demonstrated the benefit of leveraging these NLP techniques into computer vision problems that boost the performance of the text spotting system up to 3.3 points on a benchmark dataset without tuning or training}. Therefore, to answer to our main question:
%\end{itemize}

\begin{block}{\small}

%The work in the present dissertation has addressed this specific problem.
 \begin{itemize}
     \item The main limitation of this approach is that \textbf{depends on the baseline softmax} output to re-rank the most closely related word
     %\item In particular, the \hl{semantic relatedness score suppresses unrelated words and boosts the most probably related word} by simple dot product multiplication.
 \end{itemize}

%\end{itemize}
\end{block}    

\begin{block}{\small}

%The work in the present dissertation has addressed this specific problem.
 \begin{itemize}
    % \item The main limitation of this approach is that \textbf{depends on the baseline softmax} output to re-rank the most closely related word
     \item [] As in the example, the semantic relatedness score \textbf{\textcolor{gray}{suppresses unrelated words}} and \textbf{\textcolor{blue}{boosts the most probably related word}} by simple dot product multiplication. (Visual context: parking meters)
 \end{itemize}

%\end{itemize}
\end{block}    

\begin{table}[t]
\begin{center}
%\caption{Sample of the modified probabilities before and after the visual context, As shown in Figure \ref{fig:overview-of-all-model} these individual word scores are modified (re-ranked) based on the presence of others object classes, scene classes and image caption which are extracted through state-of-the-art frameworks from each problem domain.} 
%Sample of the modified probabilities before and after the visual
%\caption{Sample of the modified probabilities before and after the visual context. As shown these individual word scores are modified (re-ranked) based on the presence of other object classes and scene classes which are extracted through state-of-the-art frameworks from each problem domain.} 
\begin{threeparttable}
%\begin{tabular}{l|rl|rl|rl|rl}
%\begin{tabular}{l|rl|rl|rl}
%\hline \bf \small word & \ \small w1   & \small p1     & \small w3  &  \small p3 \\ \hline
\begin{tabular}{|c|cl|cl|}
%\hline \bf \small word & \ \small w1   & \small p1     & \small w3  &  \small p3 \\ 
\hline 
 \bf $w$ &  \multicolumn{2}{c|} {\small Text Spotting Model} & \multicolumn{2}{c|}{ \small Visual Re-ranker Model}  \\
\hline \hline 
%$w1$ & \fadingtext{top color=gray,bottom color=gray}{quotas}      &  $0.5$ & \bf quarters &  $5.4\text{e-}7$  \\
$w_{1}$ & quotas      &  $0.5$ & \fadingtext{top color=blue,bottom color=blue}{\textbf{quarters}} &  $5.4\text{e-}7$  \\
%$w_{1}$ & quotas      &  $0.5$ & \fadingtext{top color=black,bottom color=back}{\textbf{quarters}} &  $5.4\text{e-}7$  \\
%$w_{1}$ & quotas      &  $0.5$ & \textcolor{blue}{\textbf{quarters}} &  $5.4\text{e-}7$  \\
 $w_{2}$ & quartos     &  $0.1$ &  \fadingtext{top color=gray,bottom color=gray}{quartos} &   $5.2\text{e-}8$  \\ 
% $w2$ & quartos     &  $0.1$ & quartos &   $5.2\text{e-}8$  \\ 
$w_{3}$ & \bf quarters &  $0.05$ & \hbox{ \fadingtext{top color=gray,bottom color=gray}{\textcolor{red}{quotas}}} &   $9.0\text{e-}9$ \\ 



\hline\end{tabular}
%\label{table_1}
%\begin{tablenotes}
 %     \small 
      %\item  \textbf{Bold font} word indicate ground truth.
      %\item Visual information 
      %*VCI (visual context information), result of best three word, see Figure \ref{figure1} for more details. %However, we overcome the limitation of false recognition of short words of the baseline.    
%\end{tablenotes}

\end{threeparttable}
\label{tb: modified prob-ch4} 
\end{center}
%\caption{fddddddddddddddd }

\end{table}

\end{frame}




\begin{frame}[plain]{Math block}
\begin{block}{Attention 1}
\begin{equation*}
c_{t}=\sum_{j=1}^{T} \alpha_{t j} h_{j}, \alpha_{t j}=\frac{\exp \left(e_{t j}\right)}{\sum_{k=1}^{T} \exp \left(e_{t k}\right)}, e_{t j}=a\left(s_{t-1}, h_{j}\right)
\end{equation*}


\end{block}

%The attention mechanisms provide the model with  direct access between state at a different point in time. \cite{bahdanau2014neural} introduces an attention model that computes the context vector $c_{t}$ as the weighted mean of $h$ state sequence, given the model the hidden state $h_{t}$ at each time step:



%\noindent where $\alpha_{ti}$ is the weight computed at each time $t$ step for hidden state $h_{j}$, %T is the number of time steps for the input sequence. The $c$ context vector is used to compute the new state sequence $s$, where $s_{t}$ depends on previous state $s_{t-1}$. The  $\alpha_{t j}$ weight are then computed as: 

\begin{block}{Attention 2}
\begin{equation*}
c_{t}=\sum_{j=1}^{T} \alpha_{t j} h_{j}, \alpha_{t j}=\frac{\exp \left(e_{t j}\right)}{\sum_{k=1}^{T} \exp \left(e_{t k}\right)}, e_{t j}=a\left(\cancel{\textcolor{red}{s_{t-1}}}, h_{j}\right)
\end{equation*}


\end{block}


\end{frame}






 \end{document}
% =============================================================
% =========================== END =============================
% =============================================================

